(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,a){e.exports=a(46)},21:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(13),l=a.n(o),s=(a(21),a(5)),r=a(6),i=a(2),m=a(9),u=a(8),d=a(10),p=a.n(d),f=a(14),h=a(11),b=a(3),E=a(15),g=a.n(E);var v=function(e){return e.show&&c.a.createElement("div",{className:"creation-modal"},c.a.createElement(g.a,{type:"TailSpin",color:"#4287f5",height:"100",width:"100",top:"auto",bottom:"auto"}))};a(44);var j=function(e){var t=e.show,a=e.close,o=(e.children,Object(n.useState)([])),l=Object(b.a)(o,2),s=l[0],r=l[1],i=Object(n.useState)(""),m=Object(b.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(!1),g=Object(b.a)(E,2),j=g[0],N=g[1],O=Object(n.useState)(!1),w=Object(b.a)(O,2),y=w[0],k=w[1],S=Object(n.useState)(!1),M=Object(b.a)(S,2),D=M[0],C=M[1],U=Object(n.useState)(!1),x=Object(b.a)(U,2),B=x[0],I=x[1],A=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function T(){r([]),d([]),N(!1),k(!1),I(!1),document.getElementById("input-dialog").reset(),a()}function J(){return(J=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,A(4e3);case 3:C(!1),I(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&c.a.createElement("div",{className:"creation-modal"},c.a.createElement("section",{className:"modal-main"},c.a.createElement(v,{show:D}),c.a.createElement("form",{className:"input-dialog",id:"input-dialog",action:"/upload",method:"POST",enctype:"multipart/form-data"},c.a.createElement("input",{type:"text",className:"dataset-namer",id:"dataset-namer",name:"dataset-namer",placeholder:"Dataset name...",onChange:function(e){e.persist(),d(e.target.value),N(!0)}}),c.a.createElement("input",{type:"file",className:"file-upload-dialog",id:"file-upload-dialog",name:"file-upload-dialog",onChange:function(e){e.persist(),r([].concat(Object(h.a)(s),Object(h.a)(e.target.files))),k(!0)},disabled:!j,accept:".jpg, .jpeg, .png",multiple:!0}),c.a.createElement("label",{className:"file-label",htmlFor:"file-upload-dialog"},"Browse for photos"),c.a.createElement("div",{className:"uploadInfo"},c.a.createElement("div",{className:"dataset-info",disabled:!y},c.a.createElement("p",null,"Dataset Info:"),c.a.createElement("p",null,"Name: ",u.length?u:"N/A"),c.a.createElement("p",null,"Number of images: ",s.length>0?s.length:"N/A")),!B&&c.a.createElement("button",{type:"submit",className:"dataset-upload",disabled:!y,onClick:function(){return J.apply(this,arguments)}},"Upload dataset")),B&&c.a.createElement("div",{className:"post-upload"},c.a.createElement("p",null,"Dataset upload complete!"),c.a.createElement("button",{className:"close-modal",onClick:T},"Close"))),!B&&c.a.createElement("button",{className:"cancel",onClick:T},"Cancel")))},N=function(){window.location.replace("/authenticate")},O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={values:[],createMode:!1},n.showModal=n.showModal.bind(Object(i.a)(n)),n.hideModal=n.hideModal.bind(Object(i.a)(n)),n}return Object(r.a)(a,[{key:"showModal",value:function(){this.setState({createMode:!0})}},{key:"hideModal",value:function(){this.setState({createMode:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"form-wrapper"},c.a.createElement(j,{show:this.state.createMode,close:this.hideModal}),c.a.createElement("button",{type:"button",onClick:N},"Login/Logout"),c.a.createElement("br",null),c.a.createElement("div",{className:"form"},c.a.createElement("form",{className:"embedding-form",onSubmit:this.handleSubmit},c.a.createElement("label",{className:"form-category"},c.a.createElement("span",{className:"category-title"},"Dataset:"),c.a.createElement("select",{name:"dataset",id:"dataset"},this.props.userDatasets.map((function(e){return c.a.createElement("option",{className:"form-option",key:e,value:e},e)})))),c.a.createElement("button",{type:"submit",className:"form-submit"},"Submit"))),c.a.createElement("button",{type:"button",className:"create-dataset-button",onClick:this.showModal},"Create a new dataset"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",{className:"form-category"},c.a.createElement("span",{className:"category-title"},"Dataset:"),c.a.createElement("select",{name:"dataset-picker",id:"dataset-picker"},this.props.userDatasets.map((function(e){return c.a.createElement("option",{className:"form-option",key:e,value:e},e)})))))}}]),a}(c.a.Component),w=(a(45),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={datasets:[]},n.fetchUserDatasets=n.fetchUserDatasets.bind(Object(i.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchUserDatasets()}},{key:"fetchUserDatasets",value:function(){var e=this;fetch("/dataset-names").then((function(e){return e.json()})).then((function(t){e.setState({datasets:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(O,{userDatasets:this.state.datasets}))}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.8a3c5461.chunk.js.map