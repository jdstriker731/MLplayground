(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,a){e.exports=a(48)},23:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(14),l=a.n(s),c=(a(23),a(3)),o=a(9),r=a(4),m=a(6),u=a(5),d=a(11),h=a.n(d),p=a(15),v=a(12),f=a(7),b=a(16),w=a.n(b);var g=function(e){return e.show&&i.a.createElement("div",{className:"creation-modal"},i.a.createElement(w.a,{type:"TailSpin",color:"#4287f5",height:"100",width:"100",top:"auto",bottom:"auto"}))};a(46);var E=function(e){var t=e.show,a=e.close,s=(e.children,Object(n.useState)([])),l=Object(f.a)(s,2),c=l[0],o=l[1],r=Object(n.useState)(""),m=Object(f.a)(r,2),u=m[0],d=m[1],b=Object(n.useState)(!1),w=Object(f.a)(b,2),E=w[0],j=w[1],N=Object(n.useState)(!1),O=Object(f.a)(N,2),y=O[0],M=O[1],S=Object(n.useState)(!1),k=Object(f.a)(S,2),x=k[0],z=k[1],I=Object(n.useState)(!1),C=Object(f.a)(I,2),D=C[0],A=C[1],B=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function F(){o([]),d([]),j(!1),M(!1),A(!1),document.getElementById("input-dialog").reset(),a()}function U(){return(U=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,B(4e3);case 3:z(!1),A(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&i.a.createElement("div",{className:"creation-modal"},i.a.createElement("section",{className:"modal-main"},i.a.createElement(g,{show:x}),i.a.createElement("form",{className:"input-dialog",id:"input-dialog"},i.a.createElement("input",{type:"text",className:"dataset-namer",id:"dataset-namer",placeholder:"Dataset name...",onChange:function(e){e.persist(),d(e.target.value),j(!0)}}),i.a.createElement("input",{type:"file",multiple:"multiple",className:"file-upload-dialog",id:"file-upload-dialog",onChange:function(e){e.persist(),o([].concat(Object(v.a)(c),Object(v.a)(e.target.files))),M(!0)},disabled:!E,accept:".jpg, .jpeg, .png"}),i.a.createElement("label",{className:"file-label",htmlFor:"file-upload-dialog"},"Browse for photos"),i.a.createElement("div",{className:"uploadInfo"},i.a.createElement("div",{className:"dataset-info",disabled:!y},i.a.createElement("p",null,"Dataset Info:"),i.a.createElement("p",null,"Name: ",u.length?u:"N/A"),i.a.createElement("p",null,"Number of images: ",c.length>0?c.length:"N/A")),!D&&i.a.createElement("button",{type:"submit",className:"dataset-upload",disabled:!y,onClick:function(){return U.apply(this,arguments)}},"Upload dataset")),D&&i.a.createElement("div",{className:"post-upload"},i.a.createElement("p",null,"Dataset upload complete!"),i.a.createElement("button",{className:"close-modal",onClick:F},"Close"))),!D&&i.a.createElement("button",{className:"cancel",onClick:F},"Cancel")))},j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).menuItems=e.menuItems,n.state={values:[],createMode:!1},n.showModal=n.showModal.bind(Object(r.a)(n)),n.hideModal=n.hideModal.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"showModal",value:function(){this.setState({createMode:!0})}},{key:"hideModal",value:function(){this.setState({createMode:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"form-wrapper"},i.a.createElement(E,{show:this.state.createMode,close:this.hideModal}),i.a.createElement("div",{className:"form"},i.a.createElement("form",{className:"embedding-form",onSubmit:this.handleSubmit},this.menuItems.map((function(t){return i.a.createElement("label",{key:t.title,className:"form-category"},i.a.createElement("span",{className:"category-title"},t.title,":"),i.a.createElement("select",{value:e.state.values[t.index]},t.values.map((function(e){return i.a.createElement("option",{className:"form-option",key:e,value:e},e)}))))})),i.a.createElement("button",{type:"submit",className:"form-submit"},"Submit"))),i.a.createElement("button",{type:"button",className:"create-dataset-button",onClick:this.showModal},"Create a new dataset"))}}]),a}(i.a.Component),N=(a(47),a(1)),O=a(17),y=function e(t){Object(c.a)(this,e),this.width=t,this.height=t},M=function e(t,a,n,i){Object(c.a)(this,e),this.image=t,this.width=t.width*i,this.height=t.height*n,this.numImages=a},S=function e(t,a,n){function i(){var e=700*Math.random();return Math.random()>.5?-e:e}Object(c.a)(this,e),this.x=void 0==t?i():t,this.y=void 0==a?i():a,this.z=void 0==n?-400:n},k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e,n){var i;Object(c.a)(this,a),i=t.call(this);for(var s=0;s<e.numImages;s++){var l=n[s];i.vertices.push(new N.m(l.x,l.y,l.z),new N.m(l.x+e.image.width,l.y,l.z),new N.m(l.x+e.image.width,l.y+e.image.height,l.z),new N.m(l.x,l.y+e.image.height,l.z));var o=new N.b(i.vertices.length-4,i.vertices.length-3,i.vertices.length-2),r=new N.b(i.vertices.length-4,i.vertices.length-2,i.vertices.length-1);i.faces.push(o,r);var m=s%10*(e.image.width/e.width),u=Math.floor(s/10)*(e.image.height/e.height);i.faceVertexUvs[0].push([new N.l(m,u),new N.l(m+.1,u),new N.l(m+.1,u+.1)]),i.faceVertexUvs[0].push([new N.l(m,u),new N.l(m+.1,u+.1),new N.l(m,u+.1)])}return i}return a}(N.c);function x(e,t,a){var n=document.querySelector(e),i=new N.n({canvas:n});i.setSize(t,a);var s=new N.g(90,2,.1,1e4);s.position.z=500;var l=new N.j,c=new N.h(16777215,.7,0);c.position.set(1,1,100),l.add(c);for(var o=new O.a(s,i.dom),r=new N.k,m=new N.f({map:r.load("https://s3.amazonaws.com/duhaime/blog/tsne-webgl/data/100-img-atlas.jpg")}),u=new y(128),d=new M(u,100,10,10),h=[],p=0;p<d.numImages;++p)h[p]=new S;var v=new k(d,h),f=new N.e(v,m);f.position.set(0,0,0),l.add(f),function e(){i.render(l,s),requestAnimationFrame(e),o.update()}()}var z=[{index:0,title:"Model",values:["DeLF"]},{index:1,title:"Visualizer",values:["t-SNE"]},{index:2,title:"Dataset",values:["Dataset 1","Dataset 2"]}];function I(){return i.a.createElement("div",{className:"App"},i.a.createElement(j,{menuItems:z}),i.a.createElement("div",{className:"visualizer"},i.a.createElement("canvas",{id:"viz-canvas",onLoad:x})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.5461923d.chunk.js.map